(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],[,,,,,,,,,,,function(t){t.exports=JSON.parse('[{"id":1,"name":"Potato","color":"red"},{"id":2,"name":"Pear","color":"green"},{"id":3,"name":"Mellon","color":"blue"},{"id":4,"name":"Ice cream","color":"red"},{"id":5,"name":"Apple","color":"green"},{"id":6,"name":"Bread","color":"blue"},{"id":7,"name":"Fish","color":"red"},{"id":8,"name":"Honey","color":"green"},{"id":9,"name":"Jam","color":"blue"},{"id":10,"name":"Garlic","color":"red"},{"id":11,"name":"Dumplings","color":"red"},{"id":12,"name":"Carrot","color":"green"},{"id":13,"name":"Eggs","color":"blue"}]')},,,,,function(t,e,o){},function(t,e,o){},function(t,e,o){},,function(t,e,o){},function(t,e,o){"use strict";o.r(e);var n=o(1),c=o.n(n),r=o(9),s=o.n(r),a=o(3),i=o(4),d=o(6),l=o(5),u=(o(16),o(7)),p=o(2),b=(o(17),o(18),o(10)),h=o.n(b),j=o(0),v=function(t){Object(d.a)(o,t);var e=Object(l.a)(o);function o(){return Object(a.a)(this,o),e.apply(this,arguments)}return Object(i.a)(o,[{key:"render",value:function(){var t=this.props,e=t.productsKey,o=t.id,n=t.color,c=t.name,r=t.activeId,s=t.isTakenPosition,a=t.handlerKeyPress,i=t.handlerClickActive;console.log("ProductItem",c,n);var d={border:"2px solid ".concat(n)};return Object(j.jsx)("div",{children:Object(j.jsxs)("button",{type:"button",onKeyPress:a,onClick:function(t){return i(t,e)},onContextMenu:function(t){return i(t,e)},className:h()("ProductItem",{"ProductItem--active":e===r&&!s},{"ProductItem--taken":e===r&&s}),style:d,children:[e,"\xa0",c,"\xa0",n,"\xa0",o]})})}}]),o}(c.a.PureComponent),m=c.a.memo((function(t){var e=t.products;return console.log("memo",e),Object(j.jsxs)("div",{children:["Memo",Object(j.jsx)("ul",{children:e.map((function(t){return Object(j.jsx)("li",{children:t.name},t.id)}))})]})})),f=function(t){Object(d.a)(o,t);var e=Object(l.a)(o);function o(){var t;Object(a.a)(this,o);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={products:t.props.products,activeId:0,isTakenPosition:!1},t.handlerKeyPress=function(e){var o=t.state,n=o.activeId,c=o.isTakenPosition,r=o.products;switch(e.preventDefault(),e.key){case"w":if(c){if(console.log("take & move UP"),n>0){console.log(r[n-1]),console.log(r[n]),console.log(r);var s=[],a=n;s.push.apply(s,Object(p.a)(r.slice(0,n-1))),s.push(r[n]),s.push(r[n-1]),s.push.apply(s,Object(p.a)(r.slice(n+1))),t.setState((function(t){return Object(u.a)(Object(u.a)({},t),{},{products:s,activeId:a-1})}))}}else console.log("move UP",t.state.activeId),t.setState((function(t){return{activeId:t.activeId>1?t.activeId-1:0}}));break;case"s":if(c){if(console.log("take & move DOWN"),n<r.length-1){console.log(r[n-1]),console.log(r[n]),console.log(r);var i=[],d=n+1;i.push.apply(i,Object(p.a)(r.slice(0,n))),i.push(r[n+1]),i.push(r[n]),i.push.apply(i,Object(p.a)(r.slice(n+2))),t.setState({products:i,activeId:d})}}else console.log("move DOWN",t.state.activeId),t.setState((function(t){return{activeId:t.activeId<r.length-1?t.activeId+1:r.length-1}}));break;case"t":t.setState((function(t){return{isTakenPosition:!t.isTakenPosition}})),console.log("take",t.state.isTakenPosition)}},t.handlerSortById=function(){console.log("sort by Id");var e=t.state.products[t.state.activeId].id;console.log("currentActiveProductId = ",e);var o=Object(p.a)(t.state.products).sort((function(t,e){return t.id-e.id})),n=o.findIndex((function(t){return t.id===e}));console.log("newActiveId = ",n),t.setState((function(){return{products:o,activeId:n}}))},t.handlerSortByColor=function(){console.log("sort by color");var e=t.state.products[t.state.activeId].id;console.log("currentActiveProductId = ",e);var o=Object(p.a)(t.state.products).sort((function(t,e){return t.color.localeCompare(e.color)})),n=o.findIndex((function(t){return t.id===e}));console.log("newActiveId = ",n),t.setState((function(){return{products:o,activeId:n}}))},t.handlerSortByName=function(){console.log("sort by name");var e=t.state.products[t.state.activeId].id;console.log("currentActiveProductId = ",e);var o=Object(p.a)(t.state.products).sort((function(t,e){return t.name.localeCompare(e.name)})),n=o.findIndex((function(t){return t.id===e}));console.log("newActiveId = ",n),t.setState((function(){return{products:o,activeId:n}}))},t.handlerClickActive=function(e,o){t.setState((function(){return{activeId:o,isTakenPosition:!1}}))},t.handlerClickTake=function(e,o){e.preventDefault(),t.state.activeId===o?t.setState((function(t){return Object(u.a)(Object(u.a)({},t),{},{isTakenPosition:!t.isTakenPosition})})):t.setState((function(){return{activeId:o,isTakenPosition:!0}}))},t}return Object(i.a)(o,[{key:"shouldComponentUpdate",value:function(t,e){return console.log(t.products!==this.props.products||e.activeId!==this.state.activeId||e.isTakenPosition!==this.state.isTakenPosition||e.products!==this.state.products?"shouldComponentUpdate true":"shouldComponentUpdate false"),t.products!==this.props.products||e.activeId!==this.state.activeId||e.isTakenPosition!==this.state.isTakenPosition||e.products!==this.state.products}},{key:"render",value:function(){var t=this,e=this.state,o=e.activeId,n=e.isTakenPosition,c=e.products;return console.log("render ProductList"),Object(j.jsxs)("div",{className:"ProductList",children:[Object(j.jsxs)("div",{className:"ProductList__keys",children:[Object(j.jsx)("p",{children:"W, S to move"}),Object(j.jsx)("p",{children:"T to take"})]}),Object(j.jsxs)("p",{children:["name: ".concat(c[o].name),Object(j.jsx)("br",{}),"activeId: ".concat(o),Object(j.jsx)("br",{}),"isTakenPosition: ".concat(n?"true":"false")]}),Object(j.jsx)("button",{type:"button",onClick:this.handlerSortById,style:{border:"2px solid black",borderRadius:"10px",width:"200px",margin:"2px"},children:"sort by id"}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{type:"button",onClick:this.handlerSortByColor,style:{border:"2px solid black",borderRadius:"10px",width:"200px",margin:"2px"},children:"sort by color"}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{type:"button",onClick:this.handlerSortByName,style:{border:"2px solid black",borderRadius:"10px",width:"200px",margin:"2px"},children:"sort by name"}),Object(j.jsxs)("div",{className:"productFlexBox",children:[Object(j.jsx)("ul",{className:"productFlexBox__ProductList ProductList",children:c.map((function(e,c){return Object(j.jsx)("li",{children:Object(j.jsx)(v,{productsKey:c,id:e.id,name:e.name,color:e.color,activeId:o,isTakenPosition:n,handlerKeyPress:t.handlerKeyPress,handlerClickActive:t.handlerClickActive,handlerClickTake:t.handlerClickTake})},e.id)}))}),Object(j.jsx)("div",{className:"productFlexBox__MemoComponent",children:Object(j.jsx)(m,{products:this.state.products})})]})]})}}]),o}(c.a.Component),O=o(11),x=function(t){Object(d.a)(o,t);var e=Object(l.a)(o);function o(){var t;Object(a.a)(this,o);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={products:O,age:1},t.addYear=function(){t.setState((function(t){return{age:t.age+1}}))},t}return Object(i.a)(o,[{key:"render",value:function(){return console.log("render App"),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsxs)("h2",{children:["age:\xa0",this.state.age]}),Object(j.jsx)("button",{type:"button",onClick:this.addYear,className:"App__button",children:"Age ++"}),Object(j.jsx)(f,{products:this.state.products})]})}}]),o}(c.a.Component);o(20);s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(x,{})}),document.getElementById("root"))}],[[21,1,2]]]);
//# sourceMappingURL=main.088841e6.chunk.js.map