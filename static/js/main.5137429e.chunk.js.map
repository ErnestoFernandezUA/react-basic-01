{"version":3,"sources":["components/ProductItem.tsx","components/Memocomponent.tsx","components/ProductList.tsx","App.tsx","index.tsx"],"names":["ProductItem","buttonColorStyle","id","activeId","isTakenPosition","this","props","productsKey","color","name","keyPressHandler","clickActiveHandler","clickTakeHandler","type","onKeyPress","onClick","event","onContextMenu","style","border","borderRadius","backgroundColor","width","margin","React","Component","Memocomponent","memo","products","console","log","map","product","ProductList","state","preventDefault","key","newProducts","newActiveId","push","slice","setState","prevState","length","sortByIdHandler","sortedProducts","sort","a","b","sortByColorHandler","localeCompare","sortByNameHandler","nextProps","nextState","className","i","App","productsFromServer","age","addYear","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"+2BAeaA,EAAb,4MACEC,iBAAmB,SACjBC,EACAC,EACAC,GAEA,OAAIF,IAAOC,EACFC,EAAkB,SAAW,OAG/B,SAVX,4CAaE,WACE,MAUIC,KAAKC,MATPC,EADF,EACEA,YACAL,EAFF,EAEEA,GACAM,EAHF,EAGEA,MACAC,EAJF,EAIEA,KACAN,EALF,EAKEA,SACAC,EANF,EAMEA,gBACAM,EAPF,EAOEA,gBACAC,EARF,EAQEA,mBACAC,EATF,EASEA,iBAMF,OACE,8BACE,yBACEC,KAAK,SACLC,WAAYJ,EACZK,QAAS,SAAAC,GAAK,OAAIL,EAAmBK,EAAOd,IAC5Ce,cAAe,SAAAD,GAAK,OAAIJ,EAAiBI,EAAOd,IAChDgB,MACE,CACEC,OAAO,aAAD,OAAeX,GACrBY,aAAc,OACdC,gBAAiBhB,KAAKJ,iBAAiBC,EAAIC,EAAUC,GACrDkB,MAAO,QACPC,OAAQ,OAXd,UAeGhB,EAfH,OAiBGE,EAjBH,OAmBGD,EAnBH,OAqBGN,WApDX,GAAiCsB,IAAMC,WCR1BC,EAAgBF,IAAMG,MACjC,YAAmB,IAAhBC,EAAe,EAAfA,SAID,OAFAC,QAAQC,IAAI,OAAQF,GAGlB,uCAEE,6BACGA,EAASG,KAAI,SAAAC,GAAO,OACnB,6BACGA,EAAQvB,MADFuB,EAAQ9B,eCAhB+B,EAAb,4MACEC,MAAQ,CACNN,SAAU,EAAKtB,MAAMsB,SACrBzB,SAAU,EACVC,iBAAiB,GAJrB,EAuBEM,gBAAkB,SAACM,GACjB,MAII,EAAKkB,MAHP/B,EADF,EACEA,SACAC,EAFF,EAEEA,gBACAwB,EAHF,EAGEA,SAKF,OAFAZ,EAAMmB,iBAEEnB,EAAMoB,KACZ,IAAK,IACH,GAAIhC,GAIF,GAFAyB,QAAQC,IAAI,kBAER3B,EAAW,EAAG,CAEhB0B,QAAQC,IAAIF,EAASzB,EAAW,IAGhC0B,QAAQC,IAAIF,EAASzB,EAAW,IAGhC0B,QAAQC,IAAIF,GAEZ,IAAMS,EAAyB,GACzBC,EAAcnC,EAAW,EAE/BkC,EAAYE,KAAZ,MAAAF,EAAW,YAAST,EAASY,MAAM,EAAGrC,EAAW,KACjDkC,EAAYE,KAAKX,EAASzB,EAAW,IACrCkC,EAAYE,KAAKX,EAASzB,EAAW,IACrCkC,EAAYE,KAAZ,MAAAF,EAAW,YAAST,EAASY,MAAMrC,KAEnC,EAAKsC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZd,SAAUS,EACVlC,SAAUmC,aAKdT,QAAQC,IAAI,UAAW,EAAKI,MAAM/B,UAElC,EAAKsC,UAAS,SAAAC,GAAS,MAAK,CAC1BvC,SAAUuC,EAAUvC,SAAW,EAAIuC,EAAUvC,SAAW,EAAI,MAIhE,MAEF,IAAK,IACH,GAAIC,GAIF,GAFAyB,QAAQC,IAAI,oBAER3B,EAAWyB,EAASe,OAAQ,CAE9Bd,QAAQC,IAAIF,EAASzB,EAAW,IAGhC0B,QAAQC,IAAIF,EAASzB,IAGrB0B,QAAQC,IAAIF,GAEZ,IAAMS,EAAc,GACdC,EAAcnC,EAAW,EAE/BkC,EAAYE,KAAZ,MAAAF,EAAW,YAAST,EAASY,MAAM,EAAGrC,EAAW,KACjDkC,EAAYE,KAAKX,EAASzB,IAC1BkC,EAAYE,KAAKX,EAASzB,EAAW,IACrCkC,EAAYE,KAAZ,MAAAF,EAAW,YAAST,EAASY,MAAMrC,EAAW,KAE9C,EAAKsC,SAAS,CACZb,SAAUS,EACVlC,SAAUmC,UAKdT,QAAQC,IAAI,YAAa,EAAKI,MAAM/B,UAEpC,EAAKsC,UAAS,SAAAC,GAAS,MAAK,CAC1BvC,SAAUuC,EAAUvC,SAAWyB,EAASe,OACpCD,EAAUvC,SAAW,EACrByB,EAASe,WAajB,MAEF,IAAK,IACH,EAAKF,UAAS,SAAAC,GAAS,MAAK,CAC1BtC,iBAAkBsC,EAAUtC,oBAI9ByB,QAAQC,IAAI,OAAQ,EAAKI,MAAM9B,mBAjIvC,EAyIEwC,gBAAkB,WAEhBf,QAAQC,IAAI,cAEZ,IAAMe,EAAiB,YAAI,EAAKX,MAAMN,UAAUkB,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAE7C,GAAK8C,EAAE9C,MAExE,EAAKuC,UAAS,iBAAO,CACnBb,SAAUiB,OAhJhB,EAoJEI,mBAAqB,WAEnBpB,QAAQC,IAAI,iBAEZ,IAAMe,EAAiB,YAAI,EAAKX,MAAMN,UAAUkB,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAEvC,MAAM0C,cAAcF,EAAExC,UAEvF,EAAKiC,UAAS,iBAAO,CACnBb,SAAUiB,OA3JhB,EA+JEM,kBAAoB,WAElBtB,QAAQC,IAAI,gBAEZ,EAAKW,UAAS,SAACC,GAAD,MAAgB,CAC5Bd,SAAU,YAAIc,EAAUd,UAAUkB,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAEtC,KAAKyC,cAAcF,EAAEvC,cApK9E,EAwKEE,mBAAqB,SAACK,EAAYd,GAChC,EAAKuC,UAAS,iBAAO,CACnBtC,SAAUD,EACVE,iBAAiB,OA3KvB,EA+KEQ,iBAAmB,SAACI,EAAYd,GAC9Bc,EAAMmB,iBAEF,EAAKD,MAAM/B,WAAaD,EAC1B,EAAKuC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZtC,iBAAkBsC,EAAUtC,qBAG9B,EAAKqC,UAAS,iBAAO,CACnBtC,SAAUD,EACVE,iBAAiB,OA1LzB,2DAOE,SAAsBgD,EAAkBC,GAUtC,OALAxB,QAAQC,IAAIsB,EAAUxB,WAAavB,KAAKC,MAAMsB,UACzCyB,EAAUlD,WAAaE,KAAK6B,MAAM/B,UAClCkD,EAAUjD,kBAAoBC,KAAK6B,MAAM9B,iBACzCiD,EAAUzB,WAAavB,KAAK6B,MAAMN,SAAW,6BAA+B,+BAE1EwB,EAAUxB,WAAavB,KAAKC,MAAMsB,UACpCyB,EAAUlD,WAAaE,KAAK6B,MAAM/B,UAClCkD,EAAUjD,kBAAoBC,KAAK6B,MAAM9B,iBACzCiD,EAAUzB,WAAavB,KAAK6B,MAAMN,WApB3C,oBA+LE,WAAU,IAAD,OACP,EAIIvB,KAAK6B,MAHP/B,EADF,EACEA,SACAC,EAFF,EAEEA,gBACAwB,EAHF,EAGEA,SAMF,OAFAC,QAAQC,IAAI,sBAGV,qCACE,2CAEGF,EAASzB,EAAW,GAAGM,QAE1B,sDAEGN,KAEH,+CAEGC,EAAkB,QAAU,cAG/B,wBACES,KAAK,SACLE,QAASV,KAAKuC,gBACd1B,MACE,CACEC,OAAQ,kBACRC,aAAc,OACdE,MAAO,QACPC,OAAQ,OARd,wBAcA,uBACA,wBACEV,KAAK,SACLE,QAASV,KAAK4C,mBACd/B,MACE,CACEC,OAAQ,kBACRC,aAAc,OACdE,MAAO,QACPC,OAAQ,OARd,2BAcA,uBACA,wBACEV,KAAK,SACLE,QAASV,KAAK8C,kBACdjC,MACE,CACEC,OAAQ,kBACRC,aAAc,OACdE,MAAO,QACPC,OAAQ,OARd,0BAeA,oBAAI+B,UAAU,cAAd,SACG1B,EAASG,KAAI,SAACC,EAASuB,GACtB,OACE,6BAGE,cAAC,EAAD,CACEhD,YAAagD,EACbrD,GAAI8B,EAAQ9B,GACZO,KAAMuB,EAAQvB,KACdD,MAAOwB,EAAQxB,MACfL,SAAUA,EACVC,gBAAiBA,EACjBM,gBAAiB,EAAKA,gBACtBC,mBAAoB,EAAKA,mBACzBC,iBAAkB,EAAKA,oBAXpBoB,EAAQ9B,SAkBrB,cAACwB,EAAD,CACEE,SAAUvB,KAAK6B,MAAMN,kBA5R/B,GAAiCJ,IAAMC,W,QCsCxB+B,E,4MA1CbtB,MAAQ,CACNN,SAAU6B,EACVC,IAAK,G,EAGPC,QAAU,WACR,EAAKlB,UAAS,SAACC,GAAD,MAAgB,CAC5BgB,IAAKhB,EAAUgB,IAAM,O,4CAIzB,WAIE,OAFA7B,QAAQC,IAAI,cAGV,sBAAKwB,UAAU,MAAf,UACE,0CAEGjD,KAAK6B,MAAMwB,OAEd,wBACE7C,KAAK,SACLE,QAASV,KAAKsD,QACdzC,MACE,CACEC,OAAQ,kBACRC,aAAc,OACdE,MAAO,QACPC,OAAQ,OARd,oBAeA,cAAC,EAAD,CAAaK,SAAUvB,KAAK6B,MAAMN,kB,GArCxBJ,IAAMC,W,MCPxBmC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.5137429e.chunk.js","sourcesContent":["import React from 'react';\n// import classNames from 'classnames';\n\ntype Props = {\n  productsKey: number;\n  id: number;\n  name: string;\n  color: string;\n  activeId: number;\n  isTakenPosition: boolean;\n  keyPressHandler: (event: any) => void;\n  clickActiveHandler: (event: any, id: number) => void;\n  clickTakeHandler: (event: any, id: number) => void;\n};\n\nexport class ProductItem extends React.Component<Props> {\n  buttonColorStyle = (\n    id: number,\n    activeId: number,\n    isTakenPosition: boolean,\n  ) => {\n    if (id === activeId) {\n      return isTakenPosition ? 'yellow' : 'grey';\n    }\n\n    return 'white';\n  };\n\n  render() {\n    const {\n      productsKey,\n      id,\n      color,\n      name,\n      activeId,\n      isTakenPosition,\n      keyPressHandler,\n      clickActiveHandler,\n      clickTakeHandler,\n    } = this.props;\n\n    // eslint-disable-next-line no-console\n    // console.log('ProductItem', name);\n\n    return (\n      <div>\n        <button\n          type=\"button\"\n          onKeyPress={keyPressHandler}\n          onClick={event => clickActiveHandler(event, id)}\n          onContextMenu={event => clickTakeHandler(event, id)}\n          style={\n            {\n              border: `2px solid ${color}`,\n              borderRadius: '10px',\n              backgroundColor: this.buttonColorStyle(id, activeId, isTakenPosition),\n              width: '200px',\n              margin: '2px',\n            }\n          }\n        >\n          {productsKey}\n          &nbsp;\n          {name}\n          &nbsp;\n          {color}\n          &nbsp;\n          {id}\n        </button>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { Product } from '../types/Product';\n\ntype Props = {\n  products: Product[];\n};\n\nexport const Memocomponent = React.memo<Props>(\n  ({ products }) => {\n    // eslint-disable-next-line no-console\n    console.log('memo', products);\n\n    return (\n      <div>\n        Memo\n        <ul>\n          {products.map(product => (\n            <li key={product.id}>\n              {product.name}\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  },\n);\n","import React from 'react';\nimport './ProductList.scss';\n\nimport { ProductItem } from './ProductItem';\nimport { Product } from '../types/Product';\nimport { Memocomponent } from './Memocomponent';\n\ntype Props = {\n  products: Product[];\n};\n\ntype State = {\n  products: Product[];\n  activeId: number;\n  isTakenPosition: boolean;\n};\n\nexport class ProductList extends React.Component<Props, State> {\n  state = {\n    products: this.props.products,\n    activeId: 1,\n    isTakenPosition: false,\n  };\n\n  shouldComponentUpdate(nextProps: Props, nextState: State) {\n    // eslint-disable-next-line no-console\n    // console.log('nextProps', nextProps, 'nextState', nextState);\n\n    // eslint-disable-next-line no-console\n    console.log(nextProps.products !== this.props.products\n      || nextState.activeId !== this.state.activeId\n      || nextState.isTakenPosition !== this.state.isTakenPosition\n      || nextState.products !== this.state.products ? 'shouldComponentUpdate true' : 'shouldComponentUpdate false');\n\n    return nextProps.products !== this.props.products\n      || nextState.activeId !== this.state.activeId\n      || nextState.isTakenPosition !== this.state.isTakenPosition\n      || nextState.products !== this.state.products;\n  }\n\n  keyPressHandler = (event: any) => {\n    const {\n      activeId,\n      isTakenPosition,\n      products,\n    } = this.state;\n\n    event.preventDefault();\n\n    switch (event.key) {\n      case 'w':\n        if (isTakenPosition) {\n          // eslint-disable-next-line no-console\n          console.log('take & move UP');\n\n          if (activeId > 1) {\n            // eslint-disable-next-line no-console\n            console.log(products[activeId - 2]);\n\n            // eslint-disable-next-line no-console\n            console.log(products[activeId - 1]);\n\n            // eslint-disable-next-line no-console\n            console.log(products);\n\n            const newProducts: Product[] = [];\n            const newActiveId = activeId - 1;\n\n            newProducts.push(...products.slice(0, activeId - 2));\n            newProducts.push(products[activeId - 1]);\n            newProducts.push(products[activeId - 2]);\n            newProducts.push(...products.slice(activeId));\n\n            this.setState((prevState) => ({\n              ...prevState,\n              products: newProducts,\n              activeId: newActiveId,\n            }));\n          }\n        } else {\n          // eslint-disable-next-line no-console\n          console.log('move UP', this.state.activeId);\n\n          this.setState(prevState => ({\n            activeId: prevState.activeId > 2 ? prevState.activeId - 1 : 1,\n          }));\n        }\n\n        break;\n\n      case 's':\n        if (isTakenPosition) {\n          // eslint-disable-next-line no-console\n          console.log('take & move DOWN');\n\n          if (activeId < products.length) {\n            // eslint-disable-next-line no-console\n            console.log(products[activeId - 1]);\n\n            // eslint-disable-next-line no-console\n            console.log(products[activeId]);\n\n            // eslint-disable-next-line no-console\n            console.log(products);\n\n            const newProducts = [];\n            const newActiveId = activeId + 1;\n\n            newProducts.push(...products.slice(0, activeId - 1));\n            newProducts.push(products[activeId]);\n            newProducts.push(products[activeId - 1]);\n            newProducts.push(...products.slice(activeId + 1));\n\n            this.setState({\n              products: newProducts,\n              activeId: newActiveId,\n            });\n          }\n        } else {\n          // eslint-disable-next-line no-console\n          console.log('move DOWN', this.state.activeId);\n\n          this.setState(prevState => ({\n            activeId: prevState.activeId < products.length\n              ? prevState.activeId + 1\n              : products.length,\n          }));\n        }\n\n        // this.setState(prevState => ({\n        //   activeId:\n        //     prevState.activeId < this.props.products.length\n        //       ? prevState.activeId + 1\n        //       : this.props.products.length,\n        // }));\n\n        // // eslint-disable-next-line no-console\n        // console.log('move down', this.state.activeId);\n        break;\n\n      case 't':\n        this.setState(prevState => ({\n          isTakenPosition: !prevState.isTakenPosition,\n        }));\n\n        // eslint-disable-next-line no-console\n        console.log('take', this.state.isTakenPosition);\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  sortByIdHandler = () => {\n    // eslint-disable-next-line no-console\n    console.log('sort by Id');\n\n    const sortedProducts = [...this.state.products].sort((a, b) => a.id - b.id);\n\n    this.setState(() => ({\n      products: sortedProducts,\n    }));\n  };\n\n  sortByColorHandler = () => {\n    // eslint-disable-next-line no-console\n    console.log('sort by color');\n\n    const sortedProducts = [...this.state.products].sort((a, b) => a.color.localeCompare(b.color));\n\n    this.setState(() => ({\n      products: sortedProducts,\n    }));\n  };\n\n  sortByNameHandler = () => {\n    // eslint-disable-next-line no-console\n    console.log('sort by name');\n\n    this.setState((prevState) => ({\n      products: [...prevState.products].sort((a, b) => a.name.localeCompare(b.name)),\n    }));\n  };\n\n  clickActiveHandler = (event: any, id: number) => {\n    this.setState(() => ({\n      activeId: id,\n      isTakenPosition: false,\n    }));\n  };\n\n  clickTakeHandler = (event: any, id: number) => {\n    event.preventDefault();\n\n    if (this.state.activeId === id) {\n      this.setState((prevState) => ({\n        ...prevState,\n        isTakenPosition: !prevState.isTakenPosition,\n      }));\n    } else {\n      this.setState(() => ({\n        activeId: id,\n        isTakenPosition: true,\n      }));\n    }\n  };\n\n  render() {\n    const {\n      activeId,\n      isTakenPosition,\n      products,\n    } = this.state;\n\n    // eslint-disable-next-line no-console\n    console.log('render ProductList');\n\n    return (\n      <>\n        <p>\n          name: &nbsp;\n          {products[activeId - 1].name}\n        </p>\n        <p>\n          current position:&nbsp;\n          {activeId}\n        </p>\n        <p>\n          is taken? &nbsp;\n          {isTakenPosition ? 'taken' : 'no taken'}\n        </p>\n\n        <button\n          type=\"button\"\n          onClick={this.sortByIdHandler}\n          style={\n            {\n              border: '2px solid black',\n              borderRadius: '10px',\n              width: '200px',\n              margin: '2px',\n            }\n          }\n        >\n          sort by id\n        </button>\n        <br></br>\n        <button\n          type=\"button\"\n          onClick={this.sortByColorHandler}\n          style={\n            {\n              border: '2px solid black',\n              borderRadius: '10px',\n              width: '200px',\n              margin: '2px',\n            }\n          }\n        >\n          sort by color\n        </button>\n        <br></br>\n        <button\n          type=\"button\"\n          onClick={this.sortByNameHandler}\n          style={\n            {\n              border: '2px solid black',\n              borderRadius: '10px',\n              width: '200px',\n              margin: '2px',\n            }\n          }\n        >\n          sort by name\n        </button>\n\n        <ul className=\"ProductList\">\n          {products.map((product, i) => {\n            return (\n              <li\n                key={product.id}\n              >\n                <ProductItem\n                  productsKey={i}\n                  id={product.id}\n                  name={product.name}\n                  color={product.color}\n                  activeId={activeId}\n                  isTakenPosition={isTakenPosition}\n                  keyPressHandler={this.keyPressHandler}\n                  clickActiveHandler={this.clickActiveHandler}\n                  clickTakeHandler={this.clickTakeHandler}\n                />\n              </li>\n            );\n          })}\n        </ul>\n\n        <Memocomponent\n          products={this.state.products}\n        />\n      </>\n    );\n  }\n}\n","import React from 'react';\n\nimport './App.scss';\nimport { ProductList } from './components/ProductList';\nimport productsFromServer from './data/data.json';\nimport { Product } from './types/Product';\n\ntype State = {\n  products: Product[];\n  age: number;\n};\n\nclass App extends React.Component<{}, State> {\n  state = {\n    products: productsFromServer,\n    age: 1,\n  };\n\n  addYear = () => {\n    this.setState((prevState) => ({\n      age: prevState.age + 1,\n    }));\n  };\n\n  render() {\n    // eslint-disable-next-line no-console\n    console.log('render App');\n\n    return (\n      <div className=\"App\">\n        <h2>\n          age:&nbsp;\n          {this.state.age}\n        </h2>\n        <button\n          type=\"button\"\n          onClick={this.addYear}\n          style={\n            {\n              border: '2px solid black',\n              borderRadius: '10px',\n              width: '200px',\n              margin: '2px',\n            }\n          }\n        >\n          Age ++\n        </button>\n\n        <ProductList products={this.state.products} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}