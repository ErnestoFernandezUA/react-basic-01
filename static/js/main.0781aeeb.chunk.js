(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],[,,,,,,,,,,,function(e){e.exports=JSON.parse('[{"id":1,"name":"Potato","color":"red"},{"id":2,"name":"Pear","color":"green"},{"id":3,"name":"Mellon","color":"blue"},{"id":4,"name":"Ice cream","color":"red"},{"id":5,"name":"Apple","color":"green"},{"id":6,"name":"Bread","color":"blue"},{"id":7,"name":"Fish","color":"red"},{"id":8,"name":"Honey","color":"green"},{"id":9,"name":"Jam","color":"blue"},{"id":10,"name":"Garlic","color":"red"},{"id":11,"name":"Dumplings","color":"red"},{"id":12,"name":"Carrot","color":"green"},{"id":13,"name":"Eggs","color":"blue"}]')},,,,,function(e,t,o){},function(e,t,o){},function(e,t,o){},,function(e,t,o){},function(e,t,o){"use strict";o.r(t);var n=o(1),c=o.n(n),r=o(9),s=o.n(r),a=o(3),i=o(4),d=o(6),l=o(5),u=(o(16),o(7)),p=o(2),b=(o(17),o(18),o(10)),v=o.n(b),j=o(0),h=function(e){Object(d.a)(o,e);var t=Object(l.a)(o);function o(){return Object(a.a)(this,o),t.apply(this,arguments)}return Object(i.a)(o,[{key:"render",value:function(){var e=this.props,t=e.productsKey,o=e.id,n=e.color,c=e.name,r=e.activeId,s=e.isTakenPosition,a=e.keyPressHandler,i=e.clickActiveHandler,d=e.clickTakeHandler;console.log("ProductItem",c,n);var l={border:"2px solid ".concat(n)};return Object(j.jsx)("div",{children:Object(j.jsxs)("button",{type:"button",onKeyPress:a,onClick:function(e){return i(e,t)},onContextMenu:function(e){return d(e,t)},className:v()("ProductItem",{"ProductItem--active":t===r&&!s},{"ProductItem--taken":t===r&&s}),style:l,children:[t,"\xa0",c,"\xa0",n,"\xa0",o]})})}}]),o}(c.a.PureComponent),m=c.a.memo((function(e){var t=e.products;return console.log("memo",t),Object(j.jsxs)("div",{children:["Memo",Object(j.jsx)("ul",{children:t.map((function(e){return Object(j.jsx)("li",{children:e.name},e.id)}))})]})})),f=function(e){Object(d.a)(o,e);var t=Object(l.a)(o);function o(){var e;Object(a.a)(this,o);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={products:e.props.products,activeId:0,isTakenPosition:!1},e.keyPressHandler=function(t){var o=e.state,n=o.activeId,c=o.isTakenPosition,r=o.products;switch(t.preventDefault(),t.key){case"w":if(c){if(console.log("take & move UP"),n>0){console.log(r[n-1]),console.log(r[n]),console.log(r);var s=[],a=n;s.push.apply(s,Object(p.a)(r.slice(0,n-1))),s.push(r[n]),s.push(r[n-1]),s.push.apply(s,Object(p.a)(r.slice(n+1))),e.setState((function(e){return Object(u.a)(Object(u.a)({},e),{},{products:s,activeId:a-1})}))}}else console.log("move UP",e.state.activeId),e.setState((function(e){return{activeId:e.activeId>1?e.activeId-1:0}}));break;case"s":if(c){if(console.log("take & move DOWN"),n<r.length-1){console.log(r[n-1]),console.log(r[n]),console.log(r);var i=[],d=n+1;i.push.apply(i,Object(p.a)(r.slice(0,n))),i.push(r[n+1]),i.push(r[n]),i.push.apply(i,Object(p.a)(r.slice(n+2))),e.setState({products:i,activeId:d})}}else console.log("move DOWN",e.state.activeId),e.setState((function(e){return{activeId:e.activeId<r.length-1?e.activeId+1:r.length-1}}));break;case"t":e.setState((function(e){return{isTakenPosition:!e.isTakenPosition}})),console.log("take",e.state.isTakenPosition)}},e.sortByIdHandler=function(){console.log("sort by Id");var t=e.state.products[e.state.activeId].id;console.log("currentActiveProductId = ",t);var o=Object(p.a)(e.state.products).sort((function(e,t){return e.id-t.id})),n=o.findIndex((function(e){return e.id===t}));console.log("newActiveId = ",n),e.setState((function(){return{products:o,activeId:n}}))},e.sortByColorHandler=function(){console.log("sort by color");var t=e.state.products[e.state.activeId].id;console.log("currentActiveProductId = ",t);var o=Object(p.a)(e.state.products).sort((function(e,t){return e.color.localeCompare(t.color)})),n=o.findIndex((function(e){return e.id===t}));console.log("newActiveId = ",n),e.setState((function(){return{products:o,activeId:n}}))},e.sortByNameHandler=function(){console.log("sort by name");var t=e.state.products[e.state.activeId].id;console.log("currentActiveProductId = ",t);var o=Object(p.a)(e.state.products).sort((function(e,t){return e.name.localeCompare(t.name)})),n=o.findIndex((function(e){return e.id===t}));console.log("newActiveId = ",n),e.setState((function(){return{products:o,activeId:n}}))},e.clickActiveHandler=function(t,o){e.setState((function(){return{activeId:o,isTakenPosition:!1}}))},e.clickTakeHandler=function(t,o){t.preventDefault(),e.state.activeId===o?e.setState((function(e){return Object(u.a)(Object(u.a)({},e),{},{isTakenPosition:!e.isTakenPosition})})):e.setState((function(){return{activeId:o,isTakenPosition:!0}}))},e}return Object(i.a)(o,[{key:"shouldComponentUpdate",value:function(e,t){return console.log(e.products!==this.props.products||t.activeId!==this.state.activeId||t.isTakenPosition!==this.state.isTakenPosition||t.products!==this.state.products?"shouldComponentUpdate true":"shouldComponentUpdate false"),e.products!==this.props.products||t.activeId!==this.state.activeId||t.isTakenPosition!==this.state.isTakenPosition||t.products!==this.state.products}},{key:"render",value:function(){var e=this,t=this.state,o=t.activeId,n=t.isTakenPosition,c=t.products;return console.log("render ProductList"),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{children:["name: \xa0",c[o].name]}),Object(j.jsxs)("p",{children:["activeId:\xa0",o]}),Object(j.jsxs)("p",{children:["isTakenPosition \xa0",n?"true":"false"]}),Object(j.jsx)("button",{type:"button",onClick:this.sortByIdHandler,style:{border:"2px solid black",borderRadius:"10px",width:"200px",margin:"2px"},children:"sort by id"}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{type:"button",onClick:this.sortByColorHandler,style:{border:"2px solid black",borderRadius:"10px",width:"200px",margin:"2px"},children:"sort by color"}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{type:"button",onClick:this.sortByNameHandler,style:{border:"2px solid black",borderRadius:"10px",width:"200px",margin:"2px"},children:"sort by name"}),Object(j.jsxs)("div",{className:"productFlexBox",children:[Object(j.jsx)("ul",{className:"productFlexBox__ProductList ProductList",children:c.map((function(t,c){return Object(j.jsx)("li",{children:Object(j.jsx)(h,{productsKey:c,id:t.id,name:t.name,color:t.color,activeId:o,isTakenPosition:n,keyPressHandler:e.keyPressHandler,clickActiveHandler:e.clickActiveHandler,clickTakeHandler:e.clickTakeHandler})},t.id)}))}),Object(j.jsx)("div",{className:"productFlexBox__MemoComponent",children:Object(j.jsx)(m,{products:this.state.products})})]})]})}}]),o}(c.a.Component),k=o(11),O=function(e){Object(d.a)(o,e);var t=Object(l.a)(o);function o(){var e;Object(a.a)(this,o);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={products:k,age:1},e.addYear=function(){e.setState((function(e){return{age:e.age+1}}))},e}return Object(i.a)(o,[{key:"render",value:function(){return console.log("render App"),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsxs)("h2",{children:["age:\xa0",this.state.age]}),Object(j.jsx)("button",{type:"button",onClick:this.addYear,className:"App__button",children:"Age ++"}),Object(j.jsx)(f,{products:this.state.products})]})}}]),o}(c.a.Component);o(20);s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(O,{})}),document.getElementById("root"))}],[[21,1,2]]]);
//# sourceMappingURL=main.0781aeeb.chunk.js.map